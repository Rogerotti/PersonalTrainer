@model  Framework.Models.Dto.ProductListDto
@using System.Text.RegularExpressions
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@{
    ViewData["Title"] = "Baza produktów";
    Layout = "DietLayout";
}

<style>
    green { background: #198f28;}

    red { background:#9c0505}

    yellow { background :#eeca00}

    .Bold{ font-weight: bold;}

    pad-left { padding-left: 2em; }

    pad-right { padding-right: 2em; }

    pad-top { padding-top: 2em; }

    pad-bottom { padding-bottom: 2em; }

    margin-top {margin-top: 2em;}

    form {display: inline-block;}

</style>

<body>

    <div class="ui two column middle aligned very relaxed stackable grid">

        <div class="two width column">

            <form method="post" asp-controller="Diet" asp-action="ProductList" id="showTest">

                <table id="table" class="ui sortable selectable celled  table" >

                        <thead>
                            <tr>
                                <th hidden>Id column</th>
                                <th class="sorted ascending">Product Name</th>
                                <th>@Framework.Resources.ProductLanguage.Calories</th>
                                <th>@Framework.Resources.ProductLanguage.Carbs</th>
                                <th>@Framework.Resources.ProductLanguage.Fat</th>
                                <th>@Framework.Resources.ProductLanguage.Protein</th>
                            </tr>
                        </thead>

                        <tbody>

                           @foreach (var item in Model.ProductList)
                           {
                               if (item.State == Framework.Models.ProductState.Private)
                               {
                                @:<tr onclick="showDetails(this)">
                               }
                               else if (item.State == Framework.Models.ProductState.Pending)
                               {
                                @:<tr bgcolor="yellow" onclick="showDetails(this)">
                               }
                               else if (item.State == Framework.Models.ProductState.Denied)
                               {
                                @:<tr bgcolor="red" onclick="showDetails(this)">
                               }
                               else if (item.State == Framework.Models.ProductState.Accepted)
                               {
                                @:<tr bgcolor="green" onclick="showDetails(this)">
                               }

                                    <td hidden><input id="selectedProductId" type="hidden" value="@item.ProductId" /></td>
                                    <td>@item.Name</td>
                                    <td>@item.Macro.Calories</td>
                                    <td>@item.Macro.Carbohydrates</td>
                                    <td>@item.Macro.Fat</td>
                                    <td>@item.Macro.Protein</td>
                            }
                                </tr>
                    </tbody>
             
                </table>

            </form>

         </div>

       

        <div class="column" >

            <div class="ui seven column row">

                <div class="column">
                    <div class="field" >
                        <div>
                            <strong>Product name:</strong>
                            <label id="detailsName"></label>
                        </div>
                    </div>
                </div>

                <div class="column">
                    <div class="field">
                        <strong>Product Manufacturer:</strong>
                        <label id="detailsManufacturer"></label>
                    </div>
                </div>

                <div class="column">
                    <div class="field">
                        <strong>Type: </strong>
                        <label id="detailsType"></label>
                    </div>
                </div>

                <div class="column">
                    <div class="field">
                        <strong>@Framework.Resources.ProductLanguage.Calories:</strong>
                        <label id="detailsCalories"></label>
                    </div>
                </div>

                <div class="column">
                    <div class="field">
                        <strong>@Framework.Resources.ProductLanguage.Protein:</strong>
                        <label id="detailsProtein"></label>
                    </div>
                </div>

                <div class="column">
                    <div class="field">
                        <strong>@Framework.Resources.ProductLanguage.Fat:</strong>
                        <label id="detailsFat"></label>
                    </div>
                </div>

                <div class="column">
                    <div class="field">
                        <strong>@Framework.Resources.ProductLanguage.Carbs:</strong>
                        <label id="detailsCarbs"></label>
                    </div>
                </div>

                <div class="column row">
                    <form asp-controller="Diet" asp-action="EditProduct" method="post">
                        <input type="hidden" name="productId" value="" />
                        <button disabled id="editButton" class="ui blue tiny button" type="submit">@Framework.Resources.ButtonLanguage.Edit</button>
                    </form>

                    <form asp-controller="Diet" asp-action="DeleteProduct" method="post">
                        <input type="hidden" name="productDeleteId" value="" />
                        <button disabled id="deleteButton" class="ui blue tiny button" type="submit">@Framework.Resources.ButtonLanguage.Delete</button>
                    </form>

                    <form asp-controller="Diet" asp-action="SubscribeProduct" method="post">
                        <input type="hidden" name="productSubscribeId" value="" />
                        <button disabled id="subscribeButton" class="ui blue tiny button" type="submit">@Framework.Resources.ButtonLanguage.Subscribe</button>
                    </form>

                    <form asp-controller="Diet" asp-action="CancelSubscription" method="post">
                        <input  type="hidden" name="productCancelSubscribeId" value="" />
                        <button  disabled id="cancelSubscribeButton" class="ui blue tiny button" type="submit">@Framework.Resources.ButtonLanguage.CancelSubscribe</button>
                    </form>
                </div>
            <div>

        </div>

            </div>

        </div>

    </div>

</body>

